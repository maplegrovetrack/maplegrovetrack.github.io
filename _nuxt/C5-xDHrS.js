import{b as ze,w as ke,l as J,k as $,ad as Be,aJ as Ee,E as st,R as k,Q as I,a3 as O,am as pe,a8 as H,G as R,a5 as j,S as N,A as h,a9 as B,ac as nt,a1 as me,a2 as He,ae as at,a4 as U,aY as lt,ab as ie,aa as de,V as ae,ai as re,aZ as rt,a_ as ot,a$ as ut,al as Ve,b0 as ct,b1 as dt,t as ft,b2 as ht,b3 as gt,b4 as pt,x as ve,$ as Te,a0 as De,a7 as we,c as mt}from"./4KWQtrrF.js";import{g as Y,u as vt,a as Fe,b as yt,c as bt,d as xt,_ as ee,e as Ge,t as se,l as At,f as We,r as ye,h as It,i as Ct,j as St,p as Lt,o as be,k as zt,m as Bt,n as Et,q as $e,s as Ft,v as Mt,w as kt,x as Tt,y as Dt,z as wt,A as $t,B as Kt}from"./6K3EF-KV.js";import"./DnfJu2fy.js";function X(i){return Array.isArray?Array.isArray(i):Qe(i)==="[object Array]"}function qt(i){if(typeof i=="string")return i;let t=i+"";return t=="0"&&1/i==-1/0?"-0":t}function Rt(i){return i==null?"":qt(i)}function Q(i){return typeof i=="string"}function Ue(i){return typeof i=="number"}function Ot(i){return i===!0||i===!1||Pt(i)&&Qe(i)=="[object Boolean]"}function Ye(i){return typeof i=="object"}function Pt(i){return Ye(i)&&i!==null}function V(i){return i!=null}function fe(i){return!i.trim().length}function Qe(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const _t="Incorrect 'index' type",jt=i=>`Invalid value for key ${i}`,Nt=i=>`Pattern length exceeds max of ${i}.`,Ht=i=>`Missing ${i} property in key`,Vt=i=>`Property 'weight' in key '${i}' must be a positive integer`,Ke=Object.prototype.hasOwnProperty;class Gt{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(s=>{let a=Je(s);this._keys.push(a),this._keyMap[a.id]=a,e+=a.weight}),this._keys.forEach(s=>{s.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Je(i){let t=null,e=null,s=null,a=1,n=null;if(Q(i)||X(i))s=i,t=qe(i),e=xe(i);else{if(!Ke.call(i,"name"))throw new Error(Ht("name"));const o=i.name;if(s=o,Ke.call(i,"weight")&&(a=i.weight,a<=0))throw new Error(Vt(o));t=qe(o),e=xe(o),n=i.getFn}return{path:t,id:e,weight:a,src:s,getFn:n}}function qe(i){return X(i)?i:i.split(".")}function xe(i){return X(i)?i.join("."):i}function Wt(i,t){let e=[],s=!1;const a=(n,o,u)=>{if(V(n))if(!o[u])e.push(n);else{let c=o[u];const d=n[c];if(!V(d))return;if(u===o.length-1&&(Q(d)||Ue(d)||Ot(d)))e.push(Rt(d));else if(X(d)){s=!0;for(let f=0,m=d.length;f<m;f+=1)a(d[f],o,u+1)}else o.length&&a(d,o,u+1)}};return a(i,Q(t)?t.split("."):t,0),s?e:e[0]}const Ut={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Yt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,t)=>i.score===t.score?i.idx<t.idx?-1:1:i.score<t.score?-1:1},Qt={location:0,threshold:.6,distance:100},Jt={useExtendedSearch:!1,getFn:Wt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var y={...Yt,...Ut,...Qt,...Jt};const Xt=/[^ ]+/g;function Zt(i=1,t=3){const e=new Map,s=Math.pow(10,t);return{get(a){const n=a.match(Xt).length;if(e.has(n))return e.get(n);const o=1/Math.pow(n,.5*i),u=parseFloat(Math.round(o*s)/s);return e.set(n,u),u},clear(){e.clear()}}}class Me{constructor({getFn:t=y.getFn,fieldNormWeight:e=y.fieldNormWeight}={}){this.norm=Zt(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,s)=>{this._keysMap[e.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Q(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();Q(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,s=this.size();e<s;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!V(t)||fe(t))return;let s={v:t,i:e,n:this.norm.get(t)};this.records.push(s)}_addObject(t,e){let s={i:e,$:{}};this.keys.forEach((a,n)=>{let o=a.getFn?a.getFn(t):this.getFn(t,a.path);if(V(o)){if(X(o)){let u=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:d,value:f}=c.pop();if(V(f))if(Q(f)&&!fe(f)){let m={v:f,i:d,n:this.norm.get(f)};u.push(m)}else X(f)&&f.forEach((m,r)=>{c.push({nestedArrIndex:r,value:m})})}s.$[n]=u}else if(Q(o)&&!fe(o)){let u={v:o,n:this.norm.get(o)};s.$[n]=u}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function Xe(i,t,{getFn:e=y.getFn,fieldNormWeight:s=y.fieldNormWeight}={}){const a=new Me({getFn:e,fieldNormWeight:s});return a.setKeys(i.map(Je)),a.setSources(t),a.create(),a}function ei(i,{getFn:t=y.getFn,fieldNormWeight:e=y.fieldNormWeight}={}){const{keys:s,records:a}=i,n=new Me({getFn:t,fieldNormWeight:e});return n.setKeys(s),n.setIndexRecords(a),n}function le(i,{errors:t=0,currentLocation:e=0,expectedLocation:s=0,distance:a=y.distance,ignoreLocation:n=y.ignoreLocation}={}){const o=t/i.length;if(n)return o;const u=Math.abs(s-e);return a?o+u/a:u?1:o}function ti(i=[],t=y.minMatchCharLength){let e=[],s=-1,a=-1,n=0;for(let o=i.length;n<o;n+=1){let u=i[n];u&&s===-1?s=n:!u&&s!==-1&&(a=n-1,a-s+1>=t&&e.push([s,a]),s=-1)}return i[n-1]&&n-s>=t&&e.push([s,n-1]),e}const te=32;function ii(i,t,e,{location:s=y.location,distance:a=y.distance,threshold:n=y.threshold,findAllMatches:o=y.findAllMatches,minMatchCharLength:u=y.minMatchCharLength,includeMatches:c=y.includeMatches,ignoreLocation:d=y.ignoreLocation}={}){if(t.length>te)throw new Error(Nt(te));const f=t.length,m=i.length,r=Math.max(0,Math.min(s,m));let v=n,g=r;const z=u>1||c,A=z?Array(m):[];let L;for(;(L=i.indexOf(t,g))>-1;){let S=le(t,{currentLocation:L,expectedLocation:r,distance:a,ignoreLocation:d});if(v=Math.min(S,v),g=L+f,z){let q=0;for(;q<f;)A[L+q]=1,q+=1}}g=-1;let E=[],K=1,P=f+m;const G=1<<f-1;for(let S=0;S<f;S+=1){let q=0,T=P;for(;q<T;)le(t,{errors:S,currentLocation:r+T,expectedLocation:r,distance:a,ignoreLocation:d})<=v?q=T:P=T,T=Math.floor((P-q)/2+q);P=T;let M=Math.max(1,r-T+1),W=o?m:Math.min(r+T,m)+f,b=Array(W+2);b[W+1]=(1<<S)-1;for(let l=W;l>=M;l-=1){let F=l-1,p=e[i.charAt(F)];if(z&&(A[F]=+!!p),b[l]=(b[l+1]<<1|1)&p,S&&(b[l]|=(E[l+1]|E[l])<<1|1|E[l+1]),b[l]&G&&(K=le(t,{errors:S,currentLocation:F,expectedLocation:r,distance:a,ignoreLocation:d}),K<=v)){if(v=K,g=F,g<=r)break;M=Math.max(1,2*r-g)}}if(le(t,{errors:S+1,currentLocation:r,expectedLocation:r,distance:a,ignoreLocation:d})>v)break;E=b}const C={isMatch:g>=0,score:Math.max(.001,K)};if(z){const S=ti(A,u);S.length?c&&(C.indices=S):C.isMatch=!1}return C}function si(i){let t={};for(let e=0,s=i.length;e<s;e+=1){const a=i.charAt(e);t[a]=(t[a]||0)|1<<s-e-1}return t}const oe=String.prototype.normalize?(i=>i.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(i=>i);class Ze{constructor(t,{location:e=y.location,threshold:s=y.threshold,distance:a=y.distance,includeMatches:n=y.includeMatches,findAllMatches:o=y.findAllMatches,minMatchCharLength:u=y.minMatchCharLength,isCaseSensitive:c=y.isCaseSensitive,ignoreDiacritics:d=y.ignoreDiacritics,ignoreLocation:f=y.ignoreLocation}={}){if(this.options={location:e,threshold:s,distance:a,includeMatches:n,findAllMatches:o,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f},t=c?t:t.toLowerCase(),t=d?oe(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const m=(v,g)=>{this.chunks.push({pattern:v,alphabet:si(v),startIndex:g})},r=this.pattern.length;if(r>te){let v=0;const g=r%te,z=r-g;for(;v<z;)m(this.pattern.substr(v,te),v),v+=te;if(g){const A=r-te;m(this.pattern.substr(A),A)}}else m(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:s,includeMatches:a}=this.options;if(t=e?t:t.toLowerCase(),t=s?oe(t):t,this.pattern===t){let z={isMatch:!0,score:0};return a&&(z.indices=[[0,t.length-1]]),z}const{location:n,distance:o,threshold:u,findAllMatches:c,minMatchCharLength:d,ignoreLocation:f}=this.options;let m=[],r=0,v=!1;this.chunks.forEach(({pattern:z,alphabet:A,startIndex:L})=>{const{isMatch:E,score:K,indices:P}=ii(t,z,A,{location:n+L,distance:o,threshold:u,findAllMatches:c,minMatchCharLength:d,includeMatches:a,ignoreLocation:f});E&&(v=!0),r+=K,E&&P&&(m=[...m,...P])});let g={isMatch:v,score:v?r/this.chunks.length:1};return v&&a&&(g.indices=m),g}}class Z{constructor(t){this.pattern=t}static isMultiMatch(t){return Re(t,this.multiRegex)}static isSingleMatch(t){return Re(t,this.singleRegex)}search(){}}function Re(i,t){const e=i.match(t);return e?e[1]:null}class ni extends Z{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class ai extends Z{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class li extends Z{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class ri extends Z{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class oi extends Z{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ui extends Z{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class et extends Z{constructor(t,{location:e=y.location,threshold:s=y.threshold,distance:a=y.distance,includeMatches:n=y.includeMatches,findAllMatches:o=y.findAllMatches,minMatchCharLength:u=y.minMatchCharLength,isCaseSensitive:c=y.isCaseSensitive,ignoreDiacritics:d=y.ignoreDiacritics,ignoreLocation:f=y.ignoreLocation}={}){super(t),this._bitapSearch=new Ze(t,{location:e,threshold:s,distance:a,includeMatches:n,findAllMatches:o,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class tt extends Z{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,s;const a=[],n=this.pattern.length;for(;(s=t.indexOf(this.pattern,e))>-1;)e=s+n,a.push([s,e-1]);const o=!!a.length;return{isMatch:o,score:o?0:1,indices:a}}}const Ae=[ni,tt,li,ri,ui,oi,ai,et],Oe=Ae.length,ci=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,di="|";function fi(i,t={}){return i.split(di).map(e=>{let s=e.trim().split(ci).filter(n=>n&&!!n.trim()),a=[];for(let n=0,o=s.length;n<o;n+=1){const u=s[n];let c=!1,d=-1;for(;!c&&++d<Oe;){const f=Ae[d];let m=f.isMultiMatch(u);m&&(a.push(new f(m,t)),c=!0)}if(!c)for(d=-1;++d<Oe;){const f=Ae[d];let m=f.isSingleMatch(u);if(m){a.push(new f(m,t));break}}}return a})}const hi=new Set([et.type,tt.type]);class gi{constructor(t,{isCaseSensitive:e=y.isCaseSensitive,ignoreDiacritics:s=y.ignoreDiacritics,includeMatches:a=y.includeMatches,minMatchCharLength:n=y.minMatchCharLength,ignoreLocation:o=y.ignoreLocation,findAllMatches:u=y.findAllMatches,location:c=y.location,threshold:d=y.threshold,distance:f=y.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:s,includeMatches:a,minMatchCharLength:n,findAllMatches:u,ignoreLocation:o,location:c,threshold:d,distance:f},t=e?t:t.toLowerCase(),t=s?oe(t):t,this.pattern=t,this.query=fi(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:a,ignoreDiacritics:n}=this.options;t=a?t:t.toLowerCase(),t=n?oe(t):t;let o=0,u=[],c=0;for(let d=0,f=e.length;d<f;d+=1){const m=e[d];u.length=0,o=0;for(let r=0,v=m.length;r<v;r+=1){const g=m[r],{isMatch:z,indices:A,score:L}=g.search(t);if(z){if(o+=1,c+=L,s){const E=g.constructor.type;hi.has(E)?u=[...u,...A]:u.push(A)}}else{c=0,o=0,u.length=0;break}}if(o){let r={isMatch:!0,score:c/o};return s&&(r.indices=u),r}}return{isMatch:!1,score:1}}}const Ie=[];function pi(...i){Ie.push(...i)}function Ce(i,t){for(let e=0,s=Ie.length;e<s;e+=1){let a=Ie[e];if(a.condition(i,t))return new a(i,t)}return new Ze(i,t)}const ue={AND:"$and",OR:"$or"},Se={PATH:"$path",PATTERN:"$val"},Le=i=>!!(i[ue.AND]||i[ue.OR]),mi=i=>!!i[Se.PATH],vi=i=>!X(i)&&Ye(i)&&!Le(i),Pe=i=>({[ue.AND]:Object.keys(i).map(t=>({[t]:i[t]}))});function it(i,t,{auto:e=!0}={}){const s=a=>{let n=Object.keys(a);const o=mi(a);if(!o&&n.length>1&&!Le(a))return s(Pe(a));if(vi(a)){const c=o?a[Se.PATH]:n[0],d=o?a[Se.PATTERN]:a[c];if(!Q(d))throw new Error(jt(c));const f={keyId:xe(c),pattern:d};return e&&(f.searcher=Ce(d,t)),f}let u={children:[],operator:n[0]};return n.forEach(c=>{const d=a[c];X(d)&&d.forEach(f=>{u.children.push(s(f))})}),u};return Le(i)||(i=Pe(i)),s(i)}function yi(i,{ignoreFieldNorm:t=y.ignoreFieldNorm}){i.forEach(e=>{let s=1;e.matches.forEach(({key:a,norm:n,score:o})=>{const u=a?a.weight:null;s*=Math.pow(o===0&&u?Number.EPSILON:o,(u||1)*(t?1:n))}),e.score=s})}function bi(i,t){const e=i.matches;t.matches=[],V(e)&&e.forEach(s=>{if(!V(s.indices)||!s.indices.length)return;const{indices:a,value:n}=s;let o={indices:a,value:n};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function xi(i,t){t.score=i.score}function Ai(i,t,{includeMatches:e=y.includeMatches,includeScore:s=y.includeScore}={}){const a=[];return e&&a.push(bi),s&&a.push(xi),i.map(n=>{const{idx:o}=n,u={item:t[o],refIndex:o};return a.length&&a.forEach(c=>{c(n,u)}),u})}class ne{constructor(t,e={},s){this.options={...y,...e},this.options.useExtendedSearch,this._keyStore=new Gt(this.options.keys),this.setCollection(t,s)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Me))throw new Error(_t);this._myIndex=e||Xe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){V(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let s=0,a=this._docs.length;s<a;s+=1){const n=this._docs[s];t(n,s)&&(this.removeAt(s),s-=1,a-=1,e.push(n))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:s,includeScore:a,shouldSort:n,sortFn:o,ignoreFieldNorm:u}=this.options;let c=Q(t)?Q(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return yi(c,{ignoreFieldNorm:u}),n&&c.sort(o),Ue(e)&&e>-1&&(c=c.slice(0,e)),Ai(c,this._docs,{includeMatches:s,includeScore:a})}_searchStringList(t){const e=Ce(t,this.options),{records:s}=this._myIndex,a=[];return s.forEach(({v:n,i:o,n:u})=>{if(!V(n))return;const{isMatch:c,score:d,indices:f}=e.searchIn(n);c&&a.push({item:n,idx:o,matches:[{score:d,value:n,norm:u,indices:f}]})}),a}_searchLogical(t){const e=it(t,this.options),s=(u,c,d)=>{if(!u.children){const{keyId:m,searcher:r}=u,v=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(c,m),searcher:r});return v&&v.length?[{idx:d,item:c,matches:v}]:[]}const f=[];for(let m=0,r=u.children.length;m<r;m+=1){const v=u.children[m],g=s(v,c,d);if(g.length)f.push(...g);else if(u.operator===ue.AND)return[]}return f},a=this._myIndex.records,n={},o=[];return a.forEach(({$:u,i:c})=>{if(V(u)){let d=s(e,u,c);d.length&&(n[c]||(n[c]={idx:c,item:u,matches:[]},o.push(n[c])),d.forEach(({matches:f})=>{n[c].matches.push(...f)}))}}),o}_searchObjectList(t){const e=Ce(t,this.options),{keys:s,records:a}=this._myIndex,n=[];return a.forEach(({$:o,i:u})=>{if(!V(o))return;let c=[];s.forEach((d,f)=>{c.push(...this._findMatches({key:d,value:o[f],searcher:e}))}),c.length&&n.push({idx:u,item:o,matches:c})}),n}_findMatches({key:t,value:e,searcher:s}){if(!V(e))return[];let a=[];if(X(e))e.forEach(({v:n,i:o,n:u})=>{if(!V(n))return;const{isMatch:c,score:d,indices:f}=s.searchIn(n);c&&a.push({score:d,key:t,value:n,idx:o,norm:u,indices:f})});else{const{v:n,n:o}=e,{isMatch:u,score:c,indices:d}=s.searchIn(n);u&&a.push({score:c,key:t,value:n,norm:o,indices:d})}return a}}ne.version="7.1.0";ne.createIndex=Xe;ne.parseIndex=ei;ne.config=y;ne.parseQuery=it;pi(gi);function Ii(i,t,e){const s=()=>{var n,o;return new ne((n=J(t))!==null&&n!==void 0?n:[],(o=J(e))===null||o===void 0?void 0:o.fuseOptions)},a=ze(s());return ke(()=>{var n;return(n=J(e))===null||n===void 0?void 0:n.fuseOptions},()=>{a.value=s()},{deep:!0}),ke(()=>J(t),n=>{a.value.setCollection(n)},{deep:!0}),{fuse:a,results:$(()=>{const n=J(e);if(n?.matchAllWhenSearchEmpty&&!J(i))return J(t).map((u,c)=>({item:u,refIndex:c}));const o=n?.resultLimit;return a.value.search(J(i),o?{limit:o}:void 0)})}}const Ci={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Si(i){return i.replace(/[&<>"']/g,t=>Ci[t])}function Li(i){return/&(?:amp|lt|gt|quot|#39);/.test(i)}function he(i){return Li(i)?i:Si(i)}function zi(i,t){let e="",s=0,a=!1;for(let n=i.length-1;n>=0;n--){if(i[n]===">")a=!0;else if(i[n]==="<"){a=!1,e=i[n]+e;continue}if(a||s++,s<=t)e=i[n]+e;else{e="..."+e;break}}return e}function _e(i,t,e,s){function a(n,o=[]){n=n||"";let u="",c=0;o.forEach(f=>{if(f.length===2&&f[0]===f[1])return;const m=f[1]+1,r=m-f[0]>=t.length;u+=[he(n.substring(c,f[0])),r&&"<mark>",he(n.substring(f[0],m)),r&&"</mark>"].filter(Boolean).join(""),c=m}),u+=he(n.substring(c));const d=u.indexOf("<mark>");return d!==-1&&(u=zi(u,u.length-d)),u}if(i.matches?.length){for(const n of i.matches)if(!(e&&n.key!==e)&&!s?.includes(n.key))return a(n.value,n.indices)}}function Bi(i,t){if(typeof i!="object"||i===null)return!1;const e=Y(i,t);return e!=null&&e!==""}function je(i,t){return t?{xs:44,sm:48,md:52,lg:56,xl:60}[i]:{xs:24,sm:28,md:32,lg:36,xl:40}[i]}function Ei(i,t,e,s){const a=je(t,!0),n=je(t,!1);return s?()=>a:e?o=>Bi(i[o],e)?a:n:()=>n}const Fi={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Mi=["id","type","value","name","placeholder","disabled","required","autocomplete"],ki=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:modelValue","blur","change"],setup(i,{expose:t,emit:e}){const s=i,a=e,n=Be(),o=vt(s,"modelValue",a,{defaultValue:s.defaultValue}),u=Fe(),{emitFormBlur:c,emitFormInput:d,emitFormChange:f,size:m,color:r,id:v,name:g,highlight:z,disabled:A,emitFormFocus:L,ariaAttrs:E}=yt(s,{}),{orientation:K,size:P}=bt(s),{isLeading:G,isTrailing:C,leadingIconName:S,trailingIconName:q}=xt(s),T=$(()=>P.value||m.value),M=$(()=>se({extend:se(Fi),...u.ui?.input||{}})({type:s.type,color:r.value,variant:s.variant,size:T?.value,loading:s.loading,highlight:z.value,leading:G.value||!!s.avatar||!!n.leading,trailing:C.value||!!n.trailing,fieldGroup:K.value})),W=Ee("inputRef");function b(x){s.modelModifiers?.trim&&(x=x?.trim()??null),(s.modelModifiers?.number||s.type==="number")&&(x=At(x)),s.modelModifiers?.nullable&&(x||=null),s.modelModifiers?.optional&&(x||=void 0),o.value=x,d()}function D(x){s.modelModifiers?.lazy||b(x.target.value)}function l(x){const w=x.target.value;s.modelModifiers?.lazy&&b(w),s.modelModifiers?.trim&&(x.target.value=w.trim()),f(),a("change",x)}function F(x){c(),a("blur",x)}function p(){s.autofocus&&W.value?.focus()}return st(()=>{setTimeout(()=>{p()},s.autofocusDelay)}),t({inputRef:W}),(x,w)=>(I(),k(h(nt),{as:i.as,"data-slot":"root",class:B(M.value.root({class:[s.ui?.root,s.class]}))},{default:O(()=>[pe("input",N({id:h(v),ref_key:"inputRef",ref:W,type:i.type,value:h(o),name:h(g),placeholder:i.placeholder,"data-slot":"base",class:M.value.base({class:s.ui?.base}),disabled:h(A),required:i.required,autocomplete:i.autocomplete},{...x.$attrs,...h(E)},{onInput:D,onBlur:F,onChange:l,onFocus:w[0]||(w[0]=(..._)=>h(L)&&h(L)(..._))}),null,16,Mi),H(x.$slots,"default",{ui:M.value}),h(G)||i.avatar||n.leading?(I(),R("span",{key:0,"data-slot":"leading",class:B(M.value.leading({class:s.ui?.leading}))},[H(x.$slots,"leading",{ui:M.value},()=>[h(G)&&h(S)?(I(),k(ee,{key:0,name:h(S),"data-slot":"leadingIcon",class:B(M.value.leadingIcon({class:s.ui?.leadingIcon}))},null,8,["name","class"])):i.avatar?(I(),k(Ge,N({key:1,size:s.ui?.leadingAvatarSize||M.value.leadingAvatarSize()},i.avatar,{"data-slot":"leadingAvatar",class:M.value.leadingAvatar({class:s.ui?.leadingAvatar})}),null,16,["size","class"])):j("",!0)])],2)):j("",!0),h(C)||n.trailing?(I(),R("span",{key:1,"data-slot":"trailing",class:B(M.value.trailing({class:s.ui?.trailing}))},[H(x.$slots,"trailing",{ui:M.value},()=>[h(q)?(I(),k(ee,{key:0,name:h(q),"data-slot":"trailingIcon",class:B(M.value.trailingIcon({class:s.ui?.trailingIcon}))},null,8,["name","class"])):j("",!0)])],2)):j("",!0)]),_:3},8,["as","class"]))}}),Ti={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",item:"group relative w-full flex items-start select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex items-center",itemTrailingIcon:"shrink-0",itemTrailingHighlightedIcon:"shrink-0 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemWrapper:"flex-1 flex flex-col text-start min-w-0",itemLabel:"truncate space-x-1 text-dimmed",itemDescription:"truncate text-muted",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}},size:{xs:{input:"[&>input]:h-10",empty:"py-3 text-xs",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailing:"gap-1",itemTrailingIcon:"size-4",itemTrailingHighlightedIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{input:"[&>input]:h-11",empty:"py-4 text-xs",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailing:"gap-1.5",itemTrailingIcon:"size-4",itemTrailingHighlightedIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{input:"[&>input]:h-12",empty:"py-6 text-sm",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailing:"gap-1.5",itemTrailingIcon:"size-5",itemTrailingHighlightedIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{input:"[&>input]:h-13",empty:"py-7 text-sm",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailing:"gap-2",itemTrailingIcon:"size-5",itemTrailingHighlightedIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},xl:{input:"[&>input]:h-14",empty:"py-8 text-base",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailing:"gap-2",itemTrailingIcon:"size-6",itemTrailingHighlightedIcon:"size-6",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"lg"}},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}},defaultVariants:{size:"md"}},Di=["innerHTML"],wi=["innerHTML"],$i=Object.assign({inheritAttrs:!1},{__name:"UCommandPalette",props:me({as:{type:null,required:!1},size:{type:null,required:!1},icon:{type:null,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},childrenIcon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:null,required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:null,required:!1},input:{type:[Boolean,Object],required:!1,default:!0},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},virtualize:{type:[Boolean,Object],required:!1,default:!1},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},preserveGroupOrder:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},selectionBehavior:{type:String,required:!1},by:{type:[String,Function],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:me(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(i,{emit:t}){const e=i,s=t,a=Be(),n=He(i,"searchTerm",{type:String,default:""}),{t:o}=We(),u=Fe(),c=at(ye(e,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover","by"),s),d=ft(()=>e.virtualize?ve(typeof e.virtualize=="boolean"?{}:e.virtualize,{estimateSize:Ei(C.value,"md",e.descriptionKey,!!a["item-description"])}):!1),[f,m]=It({props:{item:{type:Object,required:!0},group:{type:Object,required:!1},index:{type:Number,required:!1}}}),r=$(()=>se({extend:se(Ti),...u.ui?.commandPalette||{}})({size:e.size,virtualize:!!e.virtualize})),v=$(()=>ve({},e.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[e.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),g=ze([]),z=$(()=>g.value[g.value.length-1]?.placeholder||e.placeholder||o("commandPalette.placeholder")),A=$(()=>g.value?.length?[g.value[g.value.length-1]]:e.groups),L=$(()=>A.value?.filter(b=>b.id?!b.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(b=>b.items?.map(D=>({...D,group:b.id}))||[])||[]),{results:E}=Ii(n,L,v),K=Ct(E,16,!0);function P(b,D){let l=D;return b?.postFilter&&typeof b.postFilter=="function"&&(l=b.postFilter(n.value,l)),{...b,items:l.slice(0,v.value.resultLimit).map(F=>({...F,labelHtml:_e(F,n.value,e.labelKey),suffixHtml:_e(F,n.value,void 0,[e.labelKey])}))}}const G=$(()=>{const b=A.value,D=K.value.reduce((p,x)=>{const{item:w,matches:_}=x;return w.group&&(p[w.group]||=[],p[w.group]?.push({...w,matches:_})),p},{});if(e.preserveGroupOrder){const p=[];for(const x of b||[]){if(!x.items?.length)continue;const w=x.ignoreFilter?x.items:D[x.id];if(!w?.length)continue;const _=P(x,w);_.items?.length&&p.push(_)}return p}const l=Object.entries(D).map(([p,x])=>{const w=b?.find(ce=>ce.id===p);if(!w)return;const _=P(w,x);return _.items?.length?_:void 0}).filter(p=>!!p);return(b?.map((p,x)=>({...p,index:x}))?.filter(p=>p.ignoreFilter&&p.items?.length)?.map(p=>({...P(p,p.items||[]),index:p.index}))?.filter(p=>p.items?.length)||[]).reduce((p,x)=>(p.splice(x.index,0,x),p),[...l])}),C=$(()=>G.value.flatMap(b=>b.items||[])),S=Ee("rootRef");function q(b){b.children?.length&&(g.value.push({id:`history-${g.value.length}`,label:b.label,slot:b.slot,placeholder:b.placeholder,items:b.children}),n.value="",S.value?.highlightFirstItem())}function T(){g.value.length&&(g.value.pop(),n.value="",S.value?.highlightFirstItem())}function M(){n.value||T()}function W(b,D){D.children?.length?(b.preventDefault(),q(D)):D.onSelect?.(b)}return(b,D)=>(I(),R(ae,null,[U(h(f),null,{default:O(({item:l,index:F,group:p})=>[U(St,N(h(Lt)(l),{custom:""}),{default:O(({active:x,...w})=>[U(h(lt),{value:e.valueKey?h(Y)(l,e.valueKey):h(be)(l,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:l.disabled,"as-child":"",onSelect:_=>W(_,l)},{default:O(()=>[U(zt,N(w,{"data-slot":"item",class:r.value.item({class:[e.ui?.item,l.ui?.item,l.class],active:x||l.active})}),{default:O(()=>[H(b.$slots,l.slot||p?.slot||"item",{item:l,index:F,ui:r.value},()=>[H(b.$slots,l.slot?`${l.slot}-leading`:p?.slot?`${p.slot}-leading`:"item-leading",{item:l,index:F,ui:r.value},()=>[l.loading?(I(),k(ee,{key:0,name:i.loadingIcon||h(u).ui.icons.loading,"data-slot":"itemLeadingIcon",class:B(r.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,l.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):l.icon?(I(),k(ee,{key:1,name:l.icon,"data-slot":"itemLeadingIcon",class:B(r.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,l.ui?.itemLeadingIcon],active:x||l.active}))},null,8,["name","class"])):l.avatar?(I(),k(Ge,N({key:2,size:l.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||r.value.itemLeadingAvatarSize()},l.avatar,{"data-slot":"itemLeadingAvatar",class:r.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,l.ui?.itemLeadingAvatar],active:x||l.active})}),null,16,["size","class"])):l.chip?(I(),k(Bt,N({key:3,size:l.ui?.itemLeadingChipSize||e.ui?.itemLeadingChipSize||r.value.itemLeadingChipSize(),inset:"",standalone:""},l.chip,{"data-slot":"itemLeadingChip",class:r.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,l.ui?.itemLeadingChip],active:x||l.active})}),null,16,["size","class"])):j("",!0)]),l.prefix||l.labelHtml||h(Y)(l,e.labelKey)||l.suffixHtml||l.suffix||a[l.slot?`${l.slot}-label`:p?.slot?`${p.slot}-label`:"item-label"]||h(Y)(l,e.descriptionKey)||a[l.slot?`${l.slot}-description`:p?.slot?`${p.slot}-description`:"item-description"]?(I(),R("span",{key:0,"data-slot":"itemWrapper",class:B(r.value.itemWrapper({class:[e.ui?.itemWrapper,l.ui?.itemWrapper]}))},[pe("span",{"data-slot":"itemLabel",class:B(r.value.itemLabel({class:[e.ui?.itemLabel,l.ui?.itemLabel],active:x||l.active}))},[H(b.$slots,l.slot?`${l.slot}-label`:p?.slot?`${p.slot}-label`:"item-label",{item:l,index:F,ui:r.value},()=>[l.prefix?(I(),R("span",{key:0,"data-slot":"itemLabelPrefix",class:B(r.value.itemLabelPrefix({class:[e.ui?.itemLabelPrefix,l.ui?.itemLabelPrefix]}))},ie(l.prefix),3)):j("",!0),l.labelHtml?(I(),R("span",{key:1,"data-slot":"itemLabelBase",class:B(r.value.itemLabelBase({class:[e.ui?.itemLabelBase,l.ui?.itemLabelBase],active:x||l.active})),innerHTML:l.labelHtml},null,10,Di)):(I(),R("span",{key:2,"data-slot":"itemLabelBase",class:B(r.value.itemLabelBase({class:[e.ui?.itemLabelBase,l.ui?.itemLabelBase],active:x||l.active}))},ie(h(Y)(l,e.labelKey)),3)),l.suffixHtml?(I(),R("span",{key:3,"data-slot":"itemLabelSuffix",class:B(r.value.itemLabelSuffix({class:[e.ui?.itemLabelSuffix,l.ui?.itemLabelSuffix],active:x||l.active})),innerHTML:l.suffixHtml},null,10,wi)):l.suffix?(I(),R("span",{key:4,"data-slot":"itemLabelSuffix",class:B(r.value.itemLabelSuffix({class:[e.ui?.itemLabelSuffix,l.ui?.itemLabelSuffix],active:x||l.active}))},ie(l.suffix),3)):j("",!0)])],2),h(Y)(l,e.descriptionKey)||a[l.slot?`${l.slot}-description`:p?.slot?`${p.slot}-description`:"item-description"]?(I(),R("span",{key:0,"data-slot":"itemDescription",class:B(r.value.itemDescription({class:[e.ui?.itemDescription,l.ui?.itemDescription]}))},[H(b.$slots,l.slot?`${l.slot}-description`:p?.slot?`${p.slot}-description`:"item-description",{item:l,index:F,ui:r.value},()=>[de(ie(h(Y)(l,e.descriptionKey)),1)])],2)):j("",!0)],2)):j("",!0),pe("span",{"data-slot":"itemTrailing",class:B(r.value.itemTrailing({class:[e.ui?.itemTrailing,l.ui?.itemTrailing]}))},[H(b.$slots,l.slot?`${l.slot}-trailing`:p?.slot?`${p.slot}-trailing`:"item-trailing",{item:l,index:F,ui:r.value},()=>[l.children&&l.children.length>0?(I(),k(ee,{key:0,name:i.childrenIcon||h(u).ui.icons.chevronRight,"data-slot":"itemTrailingIcon",class:B(r.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,l.ui?.itemTrailingIcon]}))},null,8,["name","class"])):l.kbds?.length?(I(),R("span",{key:1,"data-slot":"itemTrailingKbds",class:B(r.value.itemTrailingKbds({class:[e.ui?.itemTrailingKbds,l.ui?.itemTrailingKbds]}))},[(I(!0),R(ae,null,re(l.kbds,(_,ce)=>(I(),k(Et,N({key:ce,size:l.ui?.itemTrailingKbdsSize||e.ui?.itemTrailingKbdsSize||r.value.itemTrailingKbdsSize()},{ref_for:!0},typeof _=="string"?{value:_}:_),null,16,["size"]))),128))],2)):p?.highlightedIcon?(I(),k(ee,{key:2,name:p.highlightedIcon,"data-slot":"itemTrailingHighlightedIcon",class:B(r.value.itemTrailingHighlightedIcon({class:[e.ui?.itemTrailingHighlightedIcon,l.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):j("",!0)]),l.children?.length?j("",!0):(I(),k(h(rt),{key:0,"as-child":""},{default:O(()=>[U(ee,{name:i.selectedIcon||h(u).ui.icons.check,"data-slot":"itemTrailingIcon",class:B(r.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,l.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1032,["value","disabled","onSelect"])]),_:2},1040)]),_:3}),U(h(pt),N({...h(c),...b.$attrs},{ref_key:"rootRef",ref:S,"selection-behavior":i.selectionBehavior,"data-slot":"root",class:r.value.root({class:[e.ui?.root,e.class]})}),{default:O(()=>[i.input?(I(),k(h(ot),{key:0,modelValue:n.value,"onUpdate:modelValue":D[1]||(D[1]=l=>n.value=l),"as-child":""},{default:O(()=>[U(ki,N({variant:"none",size:i.size},typeof e.input=="object"?e.input:{},{placeholder:z.value,autofocus:i.autofocus,loading:i.loading,"loading-icon":i.loadingIcon,"trailing-icon":i.trailingIcon,icon:i.icon||h(u).ui.icons.search,"data-slot":"input",class:r.value.input({class:e.ui?.input}),onKeydown:ut(M,["backspace"])}),Ve({_:2},[g.value?.length&&(i.back||a.back)?{name:"leading",fn:O(()=>[H(b.$slots,"back",{ui:r.value},()=>[U($e,N({size:i.size,icon:i.backIcon||h(u).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":h(o)("commandPalette.back")},typeof i.back=="object"?i.back:{},{"data-slot":"back",class:r.value.back({class:e.ui?.back}),onClick:T}),null,16,["size","icon","aria-label","class"])])]),key:"0"}:void 0,i.close||a.close?{name:"trailing",fn:O(()=>[H(b.$slots,"close",{ui:r.value},()=>[i.close?(I(),k($e,N({key:0,size:i.size,icon:i.closeIcon||h(u).ui.icons.close,color:"neutral",variant:"ghost","aria-label":h(o)("commandPalette.close")},typeof i.close=="object"?i.close:{},{"data-slot":"close",class:r.value.close({class:e.ui?.close}),onClick:D[0]||(D[0]=l=>s("update:open",!1))}),null,16,["size","icon","aria-label","class"])):j("",!0)])]),key:"1"}:void 0]),1040,["size","placeholder","autofocus","loading","loading-icon","trailing-icon","icon","class"])]),_:3},8,["modelValue"])):j("",!0),U(h(ct),{"data-slot":"content",class:B(r.value.content({class:e.ui?.content}))},{default:O(()=>[G.value?.length?(I(),R("div",{key:0,role:"presentation","data-slot":"viewport",class:B(r.value.viewport({class:e.ui?.viewport}))},[i.virtualize?(I(),k(h(dt),N({key:0,options:C.value,"text-content":l=>h(Y)(l,e.labelKey)},d.value),{default:O(({option:l,virtualItem:F})=>[U(h(m),{item:l,index:F.index},null,8,["item","index"])]),_:1},16,["options","text-content"])):(I(!0),R(ae,{key:1},re(G.value,l=>(I(),k(h(ht),{key:`group-${l.id}`,"data-slot":"group",class:B(r.value.group({class:e.ui?.group}))},{default:O(()=>[h(Y)(l,e.labelKey)?(I(),k(h(gt),{key:0,"data-slot":"label",class:B(r.value.label({class:e.ui?.label}))},{default:O(()=>[de(ie(h(Y)(l,e.labelKey)),1)]),_:2},1032,["class"])):j("",!0),(I(!0),R(ae,null,re(l.items,(F,p)=>(I(),k(h(m),{key:`group-${l.id}-${p}`,item:F,index:p,group:l},null,8,["item","index","group"]))),128))]),_:2},1032,["class"]))),128))],2)):(I(),R("div",{key:1,"data-slot":"empty",class:B(r.value.empty({class:e.ui?.empty}))},[H(b.$slots,"empty",{searchTerm:n.value},()=>[de(ie(n.value?h(o)("commandPalette.noMatch",{searchTerm:n.value}):h(o)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),a.footer?(I(),R("div",{key:1,"data-slot":"footer",class:B(r.value.footer({class:e.ui?.footer}))},[H(b.$slots,"footer",{ui:r.value})],2)):j("",!0)]),_:3},16,["selection-behavior","class"])],64))}}),Ki={slots:{modal:"",input:""},variants:{fullscreen:{false:{modal:"sm:max-w-3xl h-full sm:h-[28rem]"}},size:{xs:{input:"[&>input]:text-sm"},sm:{input:"[&>input]:text-sm"},md:{input:"[&>input]:text-base/5"},lg:{input:"[&>input]:text-base/5"},xl:{input:"[&>input]:text-lg"}}},defaultVariants:{size:"md"}},qi=/^[^-]+.*-.*[^-]+$/,Ri=/^[^_]+.*_.*[^_]+$/,Ne=["arrowleft","arrowright","arrowup","arrowright","tab","escape","enter","backspace"];function ge(i){return/^[a-z]$/i.test(i)?`Key${i.toUpperCase()}`:/^\d$/.test(i)?`Digit${i}`:/^f\d+$/i.test(i)?i.toUpperCase():{space:"Space",enter:"Enter",escape:"Escape",tab:"Tab",backspace:"Backspace",delete:"Delete",arrowup:"ArrowUp",arrowdown:"ArrowDown",arrowleft:"ArrowLeft",arrowright:"ArrowRight"}[i.toLowerCase()]||i}function Oi(i,t={}){const e=ze([]),s=()=>{e.value.splice(0,e.value.length)},a=Ft(s,t.chainDelay??800),{macOS:n}=Mt(),o=Tt(),u=t.layoutIndependent??!1,c=Ne.map(r=>ge(r)),d=r=>{if(!r.key)return;const v=u?/^Key[A-Z]$/i.test(r.code):/^[a-z]{1}$/i.test(r.key),g=u?c.includes(r.code):Ne.includes(r.key.toLowerCase());let z;if(e.value.push(u?r.code:r.key),e.value.length>=2){z=e.value.slice(-2).join("-");for(const A of m.value.filter(L=>L.chained))if(A.key===z){A.enabled&&(r.preventDefault(),A.handler(r)),s();return}}for(const A of m.value.filter(L=>!L.chained)){if(u){if(r.code!==A.key)continue}else if(r.key.toLowerCase()!==A.key)continue;if(r.metaKey===A.metaKey&&r.ctrlKey===A.ctrlKey&&!((v||g||A.shiftKey||r.shiftKey)&&r.shiftKey!==A.shiftKey)){A.enabled&&(r.preventDefault(),A.handler(r)),s();return}}a()},f=$(()=>{const r=o.value?.tagName,v=o.value?.contentEditable;return r==="INPUT"||r==="TEXTAREA"||v==="true"||v==="plaintext-only"?o.value?.name||!0:!1}),m=$(()=>Object.entries(J(i)).map(([r,v])=>{if(!v)return null;let g;r.includes("-")&&r!=="-"&&!r.includes("_")&&!r.match(qi)?.length&&console.trace(`[Shortcut] Invalid key: "${r}"`),r.includes("_")&&r!=="_"&&!r.match(Ri)?.length&&console.trace(`[Shortcut] Invalid key: "${r}"`);const z=r.includes("-")&&r!=="-"&&!r.includes("_");if(z)u?g={key:r.split("-").map(E=>ge(E)).join("-"),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1}:g={key:r.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const L=r.toLowerCase().split("_").map(K=>K);let E=L.filter(K=>!["meta","command","ctrl","shift","alt","option"].includes(K)).join("_");u&&(E=ge(E)),g={key:E,metaKey:L.includes("meta")||L.includes("command"),ctrlKey:L.includes("ctrl"),shiftKey:L.includes("shift"),altKey:L.includes("alt")||L.includes("option")}}if(g.chained=z,!n.value&&g.metaKey&&!g.ctrlKey&&(g.metaKey=!1,g.ctrlKey=!0),typeof v=="function"?g.handler=v:typeof v=="object"&&(g={...g,handler:v.handler}),!g.handler)return console.trace("[Shortcut] Invalid value"),null;let A=!0;return v.usingInput?typeof v.usingInput=="string"&&(A=f.value===v.usingInput):A=!f.value,g.enabled=A,g}).filter(Boolean));return kt("keydown",d)}const Ni={__name:"UContentSearch",props:me({size:{type:null,required:!1},icon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},overlay:{type:Boolean,required:!1},transition:{type:Boolean,required:!1},content:{type:Object,required:!1},dismissible:{type:Boolean,required:!1},fullscreen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(i,{expose:t}){const e=i,s=Be(),a=He(i,"searchTerm",{type:String,default:""}),{t:n}=We(),{open:o,mapNavigationItems:u,postFilter:c}=Dt(),d=wt(),f=Fe(),m=Te(ye(e,"size","icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),r=Te(ye(e,"overlay","transition","content","dismissible","fullscreen","modal","portal")),v=()=>be(s,["content"]),g=$(()=>ve({},e.fuse,{fuseOptions:{includeMatches:!0}})),z=$(()=>se({extend:se(Ki),...f.ui?.contentSearch||{}})({size:e.size,fullscreen:e.fullscreen})),A=Ee("commandPaletteRef"),L=$(()=>e.links?.length?e.links.flatMap(C=>[{...C,suffix:C.description,description:void 0,icon:C.icon||f.ui.icons.file,children:void 0},...C.children?.map(S=>({...S,prefix:C.label+" >",suffix:S.description,description:void 0,icon:S.icon||C.icon||f.ui.icons.file}))||[]]):[]),E=$(()=>e.navigation?.length?e.navigation.some(C=>!!C.children?.length)?e.navigation.map(C=>({id:C.path,label:C.title,items:u(C.children||[],e.files||[]),postFilter:c})):[{id:"docs",items:u(e.navigation,e.files||[]),postFilter:c}]:[]),K=$(()=>!e.colorMode||d?.forced?null:{id:"theme",label:n("contentSearch.theme"),items:[{label:n("colorMode.system"),icon:f.ui.icons.system,active:d.preference==="system",onSelect:()=>{d.preference="system"}},{label:n("colorMode.light"),icon:f.ui.icons.light,active:d.preference==="light",onSelect:()=>{d.preference="light"}},{label:n("colorMode.dark"),icon:f.ui.icons.dark,active:d.preference==="dark",onSelect:()=>{d.preference="dark"}}]}),P=$(()=>{const C=[];return L.value.length&&C.push({id:"links",label:n("contentSearch.links"),items:L.value}),C.push(...E.value),C.push(...e.groups||[]),K.value&&C.push(K.value),C});function G(C){C.disabled||(o.value=!1,a.value="")}return Oi({[e.shortcut]:{usingInput:!0,handler:()=>o.value=!o.value}}),t({commandPaletteRef:A}),(C,S)=>(I(),k(Kt,N({open:h(o),"onUpdate:open":S[2]||(S[2]=q=>mt(o)?o.value=q:null),title:i.title||h(n)("contentSearch.title"),description:i.description||h(n)("contentSearch.description")},h(r),{"data-slot":"modal",class:z.value.modal({class:[e.ui?.modal,e.class]})}),{content:O(q=>[H(C.$slots,"content",De(we(q)),()=>[U($i,N({ref_key:"commandPaletteRef",ref:A,"search-term":a.value,"onUpdate:searchTerm":S[0]||(S[0]=T=>a.value=T)},h(m),{groups:P.value,fuse:g.value,ui:h($t)(h(be)(z.value,["modal"]),e.ui),"onUpdate:modelValue":G,"onUpdate:open":S[1]||(S[1]=T=>o.value=T)}),Ve({_:2},[re(v(),(T,M)=>({name:M,fn:O(W=>[H(C.$slots,M,De(we(W)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},16,["open","title","description","class"]))}};export{Ni as default};
